# 网关管理系统工程

## 目的
* 



## 系统设计
### 服务管理
    添加服务信息 通过界面添加配置服务信息，后台监控通过添加的服务信息获取服务对应的示例数量，信息，状态等   
    服务详情 显示服务具体信息，显示服务下的实例列表，实例的状态（从注册中心根据服务名称获取对应的示例）
        

### 路由管理
    添加路由 针对网关服务添加路由配置，路由包括：路由名称，url地址 网关服务，接口地址，路由配置
    路由配置：路由的配置类型有多种，目前实现：参数名匹配，参数名和值匹配，时间（大于，小于，区间 ）的组合配置
    路由列表：显示配置的路由列表，可以根据网关服务和状态分页查询，状态包括：禁用  启用  删除
    路由操作：
        1. 删除 必输删除是禁用状态的路由，否则不能删除
        2. 禁用 如果是从启动改成禁用，需要由服务端通知各个网关服务的实例，并且生成路由规则状态变更记录，当实例更新完成后更新此记录，标识实例更新完成。如果由删除改成禁用只更新数据库状态即可。
        3. 启动 当规则启动时生成一个版本号，生成路由规则状态变更记录，需要由服务端通知各个网关服务的实例，当实例更新完成后更新此记录，标识实例更新完成。
        

### 限流管理
    添加限流 针对网关服务添加限流配置，路由包括：限流名称，网关服务，限流配置类型，限流配置， 阈值类型，单机阈值等
    限流配置：限流配置类型：路由或url  可以选择已经配置的服务路由或是选择url添加具体的url地址
    限流列表：显示配置的限流列表，可以根据网关服务和状态分页查询，状态包括：禁用  启用  删除
    限流操作：
     1. 删除 必输删除是禁用状态的限流，否则不能删除
     2. 禁用 如果是从启动改成禁用，需要由服务端通知各个网关服务的实例，并且生成限流规则状态变更记录，当实例更新完成后更新此记录，标识实例更新完成。如果由删除改成禁用只更新数据库状态即可。
     3. 启动 当规则启动时生成一个版本号，生成限流规则状态变更记录，需要由服务端通知各个网关服务的实例，当实例更新完成后更新此记录，标识实例更新完成。
                 
### 降级管理
    添加降级 针对网关服务添加降级配置，降级包括：降级名称，网关服务，降级配置类型，降级配置， 阈值类型等
    降级配置：降级配置类型：路由或url  可以选择已经配置的服务路由或是选择url添加具体的url地址
    降级列表：显示配置的降级列表，可以根据网关服务和状态分页查询，状态包括：禁用  启用  删除
    降级操作：
     1. 删除 必输删除是禁用状态的降级，否则不能删除
     2. 禁用 如果是从启动改成禁用，需要由服务端通知各个网关服务的实例，并且生成降级规则状态变更记录，当实例更新完成后更新此记录，标识实例更新完成。如果由删除改成禁用只更新数据库状态即可。
     3. 启动 当规则启动时生成一个版本号，生成降级规则状态变更记录，需要由服务端通知各个网关服务的实例，当实例更新完成后更新此记录，标识实例更新完成。
                 